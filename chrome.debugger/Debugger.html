        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>Debugger class / chrome.debugger Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="chrome.debugger" data-type="Debugger">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../chrome.debugger.html">chrome.debugger</a> &rsaquo; <a href="../chrome.debugger/Debugger.html">Debugger</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>Debugger</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>Debugger API serves as an alternate transport for Chrome's remote debugging
protocol. Use chrome.debugger to attach to one or more tabs to instrument
network interaction, debug JavaScript, mutate the DOM and CSS, etc. Use the
Debuggee tabId to target tabs with sendCommand and route events by tabId from
onEvent callbacks.</p>
<p>As of today, attaching to the tab by means of the debugger API and using
embedded Chrome DevTools with that tab are mutually exclusive. If user
invokes Chrome DevTools while extension is attached to the tab, debugging
session is terminated. Extension can re-establish it later.</p>
<pre class="source">
class Debugger {
 StreamController&lt;DetachEvent&gt; _detachStreamController =
     new StreamController&lt;DetachEvent&gt;();
 StreamController&lt;DebuggerEvent&gt; _eventStreamController =
     new StreamController&lt;DebuggerEvent&gt;();

 Stream&lt;DetachEvent&gt; _detachStream;
 Stream&lt;DebuggerEvent&gt; _eventStream;

 Debugger._() {
   _detachStream = _detachStreamController.stream.asBroadcastStream();

   js.Callback detachListener = new js.Callback.many((var source, String reason) {
     _detachStreamController.add(
         new DetachEvent._(new Debuggee._fromProxy(source), reason));
   });

   _eventStream = _eventStreamController.stream.asBroadcastStream();
   js.Callback eventListener = new js.Callback.many((var source, String method, [var params]) {
     _eventStreamController.add(
         new DebuggerEvent._(new Debuggee._fromProxy(source),
             method,
             new jsw.JsObjectToMapAdapter.fromProxy(params)));
   });
 }

 /**
  * Attaches debugger to the given target.
  *
  * Required debugging protocol version ("0.1"). One can only attach to the
  * debuggee with matching major version and greater or equal minor version.
  */
 Future&lt;Debuggee&gt; attach(Debuggee target, String requiredVersion) {
   return js.scoped(() {
     Completer completer = new Completer();

     js.Callback callback = new js.Callback.once(() {
       if (runtime.lastError == null) {
         completer.complete(target);
       } else {
         completer.completeError(runtime.lastError);
       }
     });

     _chrome.debugger.attach(target._toJS(), requiredVersion, callback);

     return completer.future;
   });
 }

 /**
  * Detaches debugger from the given target.
  */
 Future&lt;Debuggee&gt; detach(Debuggee target, String requiredVersion) {
   return js.scoped(() {
     Completer completer = new Completer();

     js.Callback callback = new js.Callback.once(() {
       if (runtime.lastError == null) {
         completer.complete(target);
       } else {
         completer.completeError(runtime.lastError);
       }
     });

     _chrome.debugger.detach(target._toJS(), callback);

     return completer.future;
   });
 }

 /**
  * Sends given command to the debugging target.
  */
 Future&lt;Map&gt; sendCommand(Debuggee target, String method, [Map commandParams]) {
   return js.scoped(() {
     Completer completer = new Completer();

     if (commandParams == null) {
       commandParams = {};
     }

     js.Callback callback = new js.Callback.once(([var result]) {
       if (runtime.lastError == null) {
         if (result == null) {
           completer.complete(null);
         } else {
           completer.complete(
               new jsw.JsObjectToMapAdapter.fromProxy(result));
         }
       } else {
         completer.completeError(runtime.lastError);
       }
     });

     _chrome.debugger.sendCommand(
         target._toJS(), method, commandParams, callback);

     return completer.future;
   });
 }

 Stream&lt;DebuggerEvent&gt; get onEvent =&gt; _eventStream;

 Stream&lt;DetachEvent&gt; get onDetach =&gt; _detachStream;
}
</pre>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="onDetach">
<button class="show-code">Code</button>
final Stream&lt;<a href="../chrome.debugger/DetachEvent.html">DetachEvent</a>&gt;         <strong>onDetach</strong> <a class="anchor-link"
            href="#onDetach"
            title="Permalink to Debugger.onDetach">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Stream&lt;DetachEvent&gt; get onDetach =&gt; _detachStream;
</pre>
</div>
</div>
<div class="field"><h4 id="onEvent">
<button class="show-code">Code</button>
final Stream&lt;<a href="../chrome.debugger/DebuggerEvent.html">DebuggerEvent</a>&gt;         <strong>onEvent</strong> <a class="anchor-link"
            href="#onEvent"
            title="Permalink to Debugger.onEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Stream&lt;DebuggerEvent&gt; get onEvent =&gt; _eventStream;
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="attach">
<button class="show-code">Code</button>
Future&lt;<a href="../chrome.debugger/Debuggee.html">Debuggee</a>&gt; <strong>attach</strong>(<a href="../chrome.debugger/Debuggee.html">Debuggee</a> target, String requiredVersion) <a class="anchor-link" href="#attach"
              title="Permalink to Debugger.attach">#</a></h4>
<div class="doc">
<p>Attaches debugger to the given target.</p>
<p>Required debugging protocol version ("0.1"). One can only attach to the
debuggee with matching major version and greater or equal minor version.</p>
<pre class="source">
Future&lt;Debuggee&gt; attach(Debuggee target, String requiredVersion) {
 return js.scoped(() {
   Completer completer = new Completer();

   js.Callback callback = new js.Callback.once(() {
     if (runtime.lastError == null) {
       completer.complete(target);
     } else {
       completer.completeError(runtime.lastError);
     }
   });

   _chrome.debugger.attach(target._toJS(), requiredVersion, callback);

   return completer.future;
 });
}
</pre>
</div>
</div>
<div class="method"><h4 id="detach">
<button class="show-code">Code</button>
Future&lt;<a href="../chrome.debugger/Debuggee.html">Debuggee</a>&gt; <strong>detach</strong>(<a href="../chrome.debugger/Debuggee.html">Debuggee</a> target, String requiredVersion) <a class="anchor-link" href="#detach"
              title="Permalink to Debugger.detach">#</a></h4>
<div class="doc">
<p>Detaches debugger from the given target.</p>
<pre class="source">
Future&lt;Debuggee&gt; detach(Debuggee target, String requiredVersion) {
 return js.scoped(() {
   Completer completer = new Completer();

   js.Callback callback = new js.Callback.once(() {
     if (runtime.lastError == null) {
       completer.complete(target);
     } else {
       completer.completeError(runtime.lastError);
     }
   });

   _chrome.debugger.detach(target._toJS(), callback);

   return completer.future;
 });
}
</pre>
</div>
</div>
<div class="method"><h4 id="sendCommand">
<button class="show-code">Code</button>
Future&lt;Map&gt; <strong>sendCommand</strong>(<a href="../chrome.debugger/Debuggee.html">Debuggee</a> target, String method, [Map commandParams]) <a class="anchor-link" href="#sendCommand"
              title="Permalink to Debugger.sendCommand">#</a></h4>
<div class="doc">
<p>Sends given command to the debugging target.</p>
<pre class="source">
Future&lt;Map&gt; sendCommand(Debuggee target, String method, [Map commandParams]) {
 return js.scoped(() {
   Completer completer = new Completer();

   if (commandParams == null) {
     commandParams = {};
   }

   js.Callback callback = new js.Callback.once(([var result]) {
     if (runtime.lastError == null) {
       if (result == null) {
         completer.complete(null);
       } else {
         completer.complete(
             new jsw.JsObjectToMapAdapter.fromProxy(result));
       }
     } else {
       completer.completeError(runtime.lastError);
     }
   });

   _chrome.debugger.sendCommand(
       target._toJS(), method, commandParams, callback);

   return completer.future;
 });
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-10-22 18:21:00.347</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
